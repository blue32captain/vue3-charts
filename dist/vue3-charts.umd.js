var D=Object.defineProperty;var p=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable;var l=(e,t,a)=>t in e?D(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,u=(e,t)=>{for(var a in t||(t={}))P.call(t,a)&&l(e,a,t[a]);if(p)for(var a of p(t))V.call(t,a)&&l(e,a,t[a]);return e};(function(e,t){typeof exports=="object"&&typeof module!="undefined"?module.exports=t(require("vue"),require("chart.js")):typeof define=="function"&&define.amd?define(["vue","chart.js"],t):(e=typeof globalThis!="undefined"?globalThis:e||self,e.Vue3Charts=e.Vue3Charts||{},e.Vue3Charts.vue=t(e.Vue,e.Chart))})(this,function(e,t){"use strict";const a=["install","start","stop","beforeInit","afterInit","beforeUpdate","afterUpdate","beforeElementsUpdate","reset","beforeDatasetsUpdate","afterDatasetsUpdate","beforeDatasetUpdate","afterDatasetUpdate","beforeLayout","afterLayout","afterLayout","beforeRender","afterRender","resize","destroy","uninstall","afterTooltipDraw","beforeTooltipDraw"];function h(n,s=null){return{type:n,chartRef:s,preventDefault(){this._defaultPrevented=!0},isDefaultPrevented(){return!this._defaultPrevented},_defaultPrevented:!1}}function c(n,s){return{[s.type]:()=>(n(s.type,s),s.isDefaultPrevented())}}t.registerables!==void 0&&t.Chart.register(...t.registerables);const i=e.defineComponent({name:"Vue3Charts",props:{type:{type:String,required:!0},height:{type:Number,required:!1,default:null},width:{type:Number,required:!1,default:null},data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]}},emits:a,setup(n,{emit:s}){const d=e.ref(null),g=a.reduce((o,m)=>{const v=h(m,d);return u(u({},o),c(s,v))},{id:"Vue3ChartsEventHookPlugin"}),r={chart:null,plugins:[g,...n.plugins],props:u({},n)},y=()=>{r.chart&&(r.chart.destroy(),r.chart=null)},b=(o=750)=>{r.chart.data=u(u({},r.chart.data),r.props.data),r.chart.options=u(u({},r.chart.options),r.props.options),r.chart.update(o)},C=()=>r.chart&&r.chart.resize(),f=()=>r.chart?r.chart.update():r.chart=new t.Chart(d.value.getContext("2d"),{type:r.props.type,data:r.props.data,options:r.props.options,plugins:r.plugins});return e.onMounted(()=>f()),{chartJSState:r,chartRef:d,render:f,resize:C,update:b,destroy:y}},render(n){return e.h("canvas",{ref:"chartRef",height:n.height,width:n.width})}});return i.registerGlobalPlugins=n=>{t.Chart.register(...n)},i.install=(n,s={})=>{var d;n.component(i.name,i),((d=s==null?void 0:s.plugins)==null?void 0:d.length)&&i.registerGlobalPlugins(s.plugins)},i});
